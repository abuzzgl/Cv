import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton

# Ğ¢Ğ¾ĞºĞµĞ½ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ°
API_TOKEN = '7345785606:AAHdnHxfpe3-8rH7VnRuEf9c_2fmTo3apRQ'

bot = telebot.TeleBot(API_TOKEN)

# ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
@bot.message_handler(commands=['start'])
def send_welcome(message):
    markup = InlineKeyboardMarkup()
    btn1 = InlineKeyboardButton(text='ğŸ’³ ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€', callback_data='buy_product')
    btn2 = InlineKeyboardButton(text='SOS', url='https://t.me/CV_IND')
    btn3 = InlineKeyboardButton(text='ğŸ‡±ğŸ‡·ğŸ”ğŸ‡·ğŸ‡ºğŸ”ğŸ‡¨ğŸ‡³', callback_data='change_language')
    markup.add(btn1, btn2, btn3)
    
    bot.send_message(message.chat.id, f"ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, {message.from_user.first_name}!\nĞŸĞµÑ€ĞµĞ´ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¾Ğ¹ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼ Ğ¾Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼Ğ¸Ñ‚ÑŒÑÑ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ°.", reply_markup=markup)

# ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ´Ğ»Ñ ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº
@bot.callback_query_handler(func=lambda call: True)
def callback_inline(call):
    if call.data == 'buy_product':
        send_categories(call.message)
    elif call.data == 'change_language':
        send_language_options(call.message)

# ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
def send_categories(message):
    markup = InlineKeyboardMarkup()
    btn1 = InlineKeyboardButton(text='ğŸ‡ªğŸ‡º EU | CC ğŸ‡ªğŸ‡º', callback_data='buy_eu_cc')
    btn2 = InlineKeyboardButton(text='ğŸ‡ºğŸ‡¸ USA | CC ğŸ‡ºğŸ‡¸', callback_data='buy_usa_cc')
    btn3 = InlineKeyboardButton(text='ğŸ‡¯ğŸ‡µ ASIA | CC ğŸ‡¯ğŸ‡µ', callback_data='buy_asia_cc')
    btn4 = InlineKeyboardButton(text='ğŸ‘ï¸â€ğŸ—¨ï¸ 3D-s Merchant', callback_data='buy_3ds_merchant')
    markup.add(btn1, btn2, btn3, btn4)
    
    bot.send_message(message.chat.id, "Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ½Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸:", reply_markup=markup)

# ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğµ
def send_product_info(message, product_name, price):
    markup = InlineKeyboardMarkup()
    btn = InlineKeyboardButton(text='ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€ ğŸ§¾', url='http://t.me/send?start=IVAMyFRK2QeZ')
    markup.add(btn)
    
    bot.send_message(message.chat.id, f"Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ: {product_name}\nĞ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: {price}\n\nĞ’ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğº Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ĞºĞ°ĞºĞ¾Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ²Ñ‹ Ğ¿Ñ€Ğ¸Ğ¾Ğ±Ñ€ĞµÑ‚Ğ°ĞµÑ‚Ğµ. ğŸ›‘ğŸ’¡", reply_markup=markup)

@bot.callback_query_handler(func=lambda call: call.data.startswith('buy_'))
def callback_buy_product(call):
    if call.data == 'buy_eu_cc':
        send_product_info(call.message, 'ğŸ‡ªğŸ‡º EU | CC ğŸ‡ªğŸ‡º', '$12')
    elif call.data == 'buy_usa_cc':
        send_product_info(call.message, 'ğŸ‡ºğŸ‡¸ USA | CC ğŸ‡ºğŸ‡¸', '$15')
    elif call.data == 'buy_asia_cc':
        send_product_info(call.message, 'ğŸ‡¯ğŸ‡µ ASIA | CC ğŸ‡¯ğŸ‡µ', '$12')
    elif call.data == 'buy_3ds_merchant':
        send_product_info(call.message, 'ğŸ‘ï¸â€ğŸ—¨ï¸ 3D-s Merchant', '$250')

# ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ¾Ğ² ÑĞ¼ĞµĞ½Ñ‹ ÑĞ·Ñ‹ĞºĞ°
def send_language_options(message):
    markup = InlineKeyboardMarkup()
    btn1 = InlineKeyboardButton(text='ğŸ‡±ğŸ‡· English', callback_data='lang_en')
    btn2 = InlineKeyboardButton(text='ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹', callback_data='lang_ru')
    btn3 = InlineKeyboardButton(text='ğŸ‡¨ğŸ‡³ ä¸­æ–‡', callback_data='lang_cn')
    markup.add(btn1, btn2, btn3)
    
    bot.send_message(message.chat.id, "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº:", reply_markup=markup)

@bot.callback_query_handler(func=lambda call: call.data.startswith('lang_'))
def callback_change_language(call):
    if call.data == 'lang_en':
        bot.send_message(call.message.chat.id, "Language changed to English.")
    elif call.data == 'lang_ru':
        bot.send_message(call.message.chat.id, "Ğ¯Ğ·Ñ‹Ğº Ğ¸Ğ·Ğ¼ĞµĞ½Ñ‘Ğ½ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¸Ğ¹.")
    elif call.data == 'lang_cn':
        bot.send_message(call.message.chat.id, "è¯­è¨€å·²æ›´æ”¹ä¸ºä¸­æ–‡ã€‚")

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
bot.polling(none_stop=True)
